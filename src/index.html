---
layout: root
bodyClass: touch-pinch-zoom

eleventyNavigation:
  key: home

pages:
  - name: projects
    href: /projects/
  - name: sketches
    href: /sketches/
    indev: true
  - name: blog
    href: /blog/
    indev: true
---

{%- html "head" -%}
<meta name="description" content="Creative coding showcase, project index, and social media directory for Timothy Davis; a freelance software developer from Darwin, Australia." />

<script src="/js/home.js" type="module"></script>
<link href="/css/home.css" rel="stylesheet">
{%- endhtml -%}

{%- set startDelay = 600 -%} 
{%- set itemDelay = 300 -%} 
{%- set socialsLength = socials | length -%} 
{%- set groupOffset = startDelay / 2 -%}

<div class="grid w-full h-full place-items-center *:col-1 *:row-1">
  <canvas id="sketchCanvas" class="size-full animate-blur animation-fill-forwards animation-delay-500" aria-hidden="true"></canvas>

  <main class="z-10 animate-fade-in animation-fill-both animation-delay-500 text-center space-y-10 max-w-full">
    <h1 class="p-2 text-title font-mono">tmthy.dev</h1>
    <nav class="space-y-6 w-full">
      <ul class="flex flex-row flex-wrap mx-auto font-mono gap-4 justify-center">
        {%- for page in pages -%}
        {%- set delay = startDelay + itemDelay * loop.index -%}
        <li class="animation-fill-backwards animate-slide-in animation-delay-{{delay}}">
          {% if page.indev | default(false) %}
          <div class="relative group">
            <div 
              class="
                absolute z-10 top-full pointer-events-none transition-[translate,opacity] w-auto left-1/2 -translate-x-1/2 translate-y-0 opacity-0 
                group-focus-within:translate-y-2 group-focus-within:opacity-100 
                group-hover:translate-y-2 group-hover:opacity-100
              "
            >
              <span id="{{page.name}}ConstructionMessage" class="italic bg-neutral-50 text-sm px-2 py-1 border border-neutral-200 text-nowrap">
                {{page.name}} page is under construction.
              </span>
            </div>
            <button 
              data-whimsy="hardhat" 
              class="cursor-pointer absolute top-0 left-0 -translate-y-1/2 -translate-x-2" 
              aria-labelledby="{{page.name}}ConstructionMessage"
            >
              {% icon "tmthy:hardhat-filled", class="-rotate-30", "aria-label"="Hardhat icon" %}
            </button>
            <span class="noise bg-neutral-50 border border-dashed py-2 px-3 block text-black/80">{{page.name}}</span>
          </div>
          {% else %}
          <a 
            class="noise btn btn-link py-2 px-3 w-full block"
            href="{{page.href}}"
            title="{{page.name}}"
          >
            {{page.name}}
          </a>
          {% endif %}
        </li>
        {%- endfor -%}
      </ul>
      <ul class="flex gap-4 justify-center">
        {%- for social in socials -%}
        {%- set delay = groupOffset + startDelay + itemDelay * loop.index -%}
        <li class="animation-fill-backwards animate-slide-in animation-delay-{{delay}}">
          <a 
            class="block btn btn-{{social.variant}} p-2"
            target="_blank"
            href="{{social.href}}"
            title="{{social.name}}"
          >
            {% set label = social.accessibleName | default(social.name) + " icon" %}
            {% icon social.icon, "aria-label"=label %} 
          </a>
        </li>
        {%- endfor -%}
      </ul>
    </nav>
  </main>
</div>

